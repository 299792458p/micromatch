## Quickstart

```js
var mm = require('micromatch');
mm(list, patterns[, options]);
```

The [main export](#micromatch) takes a list of strings and one or more glob patterns:

```js
console.log(mm(['foo', 'bar', 'qux'], ['f*', 'b*'])); // ['foo', 'bar']
```

Use [.isMatch](#ismatch) to get true/false:

```js
console.log(mm.isMatch('foo', 'f*'));  // true
```

**Switching from [minimatch](#switching-from-minimatch) and [multimatch](#switching-from-minimatch) is easy**:

* [mm()](#usage) is the same as [multimatch()][multimatch]
* [mm.match()](#match) is the same as [minimatch.match()][minimatch]
* use [mm.isMatch()](#ismatch) instead of [minimatch()][minimatch]


## Why use micromatch?

> micromatch is a [drop-in replacement][switch] for minimatch and multimatch

Micromatch is [safer][braces]{#braces-is-safe}, [faster](#benchmarks), more accurate, and supports all of the same matching features as [minimatch][] and [multimatch][].

Moreover, micromatch has:

* Better support for the Bash 4.3 specification than minimatch and multimatch
* More than 7,200 [unit tests](./test), with thousands more patterns tested (minimatch and multimatch fail many of the tests)
* Better windows support than minimatch and multimatch

### Features

* Native support for multiple glob patterns (no need for wrappers like multimatch)
* Glob pattern support (`**/*`, `a/b/*.js`, or `['a/*.js', '!b.js']`)
* [extglob][] support (`+(x|y)`, `!(a|b)`, etc)
* [POSIX character class][brackets] support (`**/[[:alpha:][:digit:]]/`)
* [brace expansion][braces] support (`a/b-{1..5}.md`, `one/{two,three}/four.md`)
* regex character classes (`a/b/baz-[1-5].js`)
* regex logical or (`a/b/(abc|xyz).js`)

You can mix and match these features to create whatever patterns you need!

**Example**

```js
mm(['a/b.js', 'a/b.md'], 'a/*.!(js)');
//=> ['a/b.md']
```

## Switching from minimatch

Use `mm.isMatch()` instead of `minimatch()`:

```js
mm.isMatch('foo', 'b*');
//=> false
```

Use `mm.match()` instead of `minimatch.match()`:

```js
mm.match(['foo', 'bar'], 'b*');
//=> 'bar'
```

## Switching from multimatch

Same signature:

```js
mm(['foo', 'bar', 'baz'], ['f*', '*z']);
//=> ['foo', 'baz']
```

## API
{%= apidocs("index.js") %}

## Options

### options.dot

Match dotfiles. Same behavior as [minimatch].

Type: `Boolean`

Default: `false`


### options.matchBase

Allow glob patterns without slashes to match a file path based on its basename. . Same behavior as [minimatch].

Type: `Boolean`

Default: `false`

**Example**

```js
mm(['a/b.js', 'a/c.md'], '*.js');
//=> []

mm(['a/b.js', 'a/c.md'], '*.js', {matchBase: true});
//=> ['a/b.js']
```

### options.nobrace

Disable expansion of brace patterns. Same behavior as [minimatch][] `nobrace`.

Type: `Boolean`

Default: `undefined`

See [braces][] for more information about extended brace expansion.


### options.nodupes

Remove duplicate elements from the result array.

Type: `Boolean`

Default: `undefined`

**Example**

Example of using the `unescape` and `nodupes` options together:

```js
mm.match(['a/b/c', 'a/b/c'], 'a/b/c');
//=> ['a/b/c', 'a/b/c']

mm.match(['a/b/c', 'a/b/c'], 'a/b/c', {nodupes: true});
//=> ['abc']
```

### options.nocase

Use a case-insensitive regex for matching files. Same behavior as [minimatch][].

Type: `Boolean`

Default: `undefined`


### options.nonegate

Disallow negation (`!`) patterns, and treat leading `!` as a literal character to match.

Type: `Boolean`

Default: `undefined`


### options.nonull

If `true`, when no matches are found the actual (arrayified) glob pattern is returned instead of an empty array. Same behavior as [minimatch][].

Type: `Boolean`

Default: `undefined`


### options.unixify

Normalize slashes in file paths and glob patterns to forward slashes.

Type: `Boolean`

Default: `undefined` on non-windows, `true` on windows.


### options.cache

Disable memoization of matching functions and generated regex. 

Type: `Boolean`

Default: `undefined`


## Notes

**Bash 4.3 parity**

Whenever possible parsing behavior for patterns is based on globbing specifications in Bash 4.3. Patterns that aren't described by Bash follow wildmatch spec (used by git).

**Escaping**

Backslashes are exclusively and explicitly reserved for escaping characters in a glob pattern, even on windows. This is also the case in minimatch and node-glob, although some users are [confused about how this works](https://github.com/isaacs/node-glob/issues/212).

To be clear, _a glob pattern is not a filepath_. When you pass something like `path.join('foo', '*')` to micromatch, you are creating a filepath and expecting for it to work as a glob pattern. The problem is that on windows the node.js `path` module converts `/` to `\\` and/or uses `\\` as the path separator when joining paths. But since `\\` is an escape character in globs, this means that on windows `path.join('foo', '*')` results in `foo\\*` which tells micromatch that `*` is escaped. 

Thus you'll need to either do the joining manually or find a lib on npm that does this.

## Benchmarks

Run the [benchmarks](./benchmark):

```bash
node benchmark
```

As of {%= date() %} (longer bars are better):

```sh
{%= bench() %}
```


[switch]: #switch-from-minimatch
[expand]: #expand
[character-classes]: http://www.regular-expressions.info/charclass.html
[extended]: http://mywiki.wooledge.org/BashGuide/Patterns#Extended_Globs
[brackets]: https://github.com/jonschlinkert/expand-brackets
[braces]: https://github.com/jonschlinkert/braces
